{"version":3,"sources":["webpack:///./src/plugins/XPage.vue?5c5b","webpack:///src/plugins/XPage.vue","webpack:///./src/plugins/XPage.vue?6b20","webpack:///./src/plugins/XPage.vue","webpack:///./src/views/upstream/Upstreams.vue?2987","webpack:///src/views/upstream/Upstreams.vue","webpack:///./src/views/upstream/Upstreams.vue?240e","webpack:///./src/views/upstream/Upstreams.vue","webpack:///./src/plugins/vTitle.vue?466e","webpack:///src/plugins/vTitle.vue","webpack:///./src/plugins/vTitle.vue?aee2","webpack:///./src/plugins/vTitle.vue","webpack:///./src/plugins/delete.vue?08fb","webpack:///src/plugins/delete.vue","webpack:///./src/plugins/delete.vue?63a1","webpack:///./src/plugins/delete.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","total","class","start","on","$event","toPage","_l","p","page","end","pages","length","limit","staticRenderFns","component","_m","directives","name","rawName","value","expression","domProps","type","indexOf","_k","keyCode","key","queryUpstreams","target","composing","searchName","up","idx","showPage","commit","_e","protocol","loadStrategy","s","host","port","editUpstream","deleteUpstream","staticStyle","titleClass","title","_t","confirm"],"mappings":"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","file":"static/js/chunk-0d87b3e9.de378d68.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{attrs:{\"aria-label\":\"navigation\"}},[_c('ul',{staticClass:\"pagination pagination-sm justify-content-center mb-0\"},[_c('li',{staticClass:\"page-item disabled\"},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"tabindex\":\"-1\",\"aria-disabled\":\"true\"}},[_vm._v(\"\\n                共 \"+_vm._s(_vm.total)+\" 条\\n            \")])]),_c('li',{staticClass:\"page-item\",class:{'disabled':_vm.start}},[_c('button',{staticClass:\"page-link\",on:{\"click\":function($event){return _vm.toPage(1)}}},[_vm._v(\"首页\")])]),_vm._l((_vm.pages),function(p){return _c('li',{staticClass:\"page-item\",class:{'active':(p === _vm.page)}},[_c('button',{staticClass:\"page-link\",on:{\"click\":function($event){return _vm.toPage(p)}}},[_vm._v(_vm._s(p))])])}),_c('li',{staticClass:\"page-item\",class:{'disabled':_vm.end}},[_c('button',{staticClass:\"page-link\",on:{\"click\":function($event){return _vm.toPage(_vm.pages.length)}}},[_vm._v(\"尾页\")])]),_c('li',{staticClass:\"page-item disabled\"},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"tabindex\":\"-1\",\"aria-disabled\":\"true\"}},[_vm._v(\"\\n                每页 \"+_vm._s(_vm.limit)+\" 条\\n            \")])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <nav aria-label=\"navigation\">\n        <ul class=\"pagination pagination-sm justify-content-center mb-0\">\n            <li class=\"page-item disabled\">\n                <a class=\"page-link\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">\n                    共 {{ total }} 条\n                </a>\n            </li>\n            <li class=\"page-item\" :class=\"{'disabled':start}\">\n                <button class=\"page-link\" @click=\"toPage(1)\">首页</button>\n            </li>\n\n            <li v-for=\"(p) in pages\" class=\"page-item\" :class=\"{'active':(p === page)}\">\n                <button class=\"page-link\" @click=\"toPage(p)\">{{ p }}</button>\n            </li>\n\n            <li class=\"page-item\" :class=\"{'disabled':end}\">\n                <button class=\"page-link\" @click=\"toPage(pages.length)\">尾页</button>\n            </li>\n\n            <li class=\"page-item disabled\">\n                <a class=\"page-link\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">\n                    每页 {{ limit }} 条\n                </a>\n            </li>\n        </ul>\n    </nav>\n</template>\n<script>\nexport default {\n    name: \"XPage\",\n    props: {items: Object},\n    methods: {\n        toPage(page) {\n            this.$emit(\"change\", page);\n        },\n    },\n    computed: {\n        start() {\n            return this.page === 1 || this.total < this.limit;\n        },\n        end() {\n            return this.page === this.pages.length || this.total < this.limit;\n        },\n        total() {\n            return this.items.total;\n        },\n        page() {\n            return this.items.page;\n        },\n        limit() {\n            return this.items.limit;\n        },\n        pages() {\n            let pages = [];\n            console.log(\"total:\", this.total, \", limit:\", this.limit,\n                \" pages: \", Math.ceil(this.total / this.limit))\n\n            for (let i = 1; i <= Math.ceil(this.total / this.limit); i++) {\n                pages.push(i);\n            }\n            return pages;\n        }\n    }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./XPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./XPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./XPage.vue?vue&type=template&id=2b113782&\"\nimport script from \"./XPage.vue?vue&type=script&lang=js&\"\nexport * from \"./XPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-title',{attrs:{\"title\":\"负载均衡管理\",\"title-class\":\"icons cui-puzzle\"}},[_c('router-link',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"to\":\"/admin/upstream/edit\"}},[_vm._v(\"\\n            添加负载\\n        \")])],1),_c('div',{staticClass:\"p-3\"},[_c('div',{staticClass:\"form-group form-inline\"},[_c('div',{staticClass:\"input-group\"},[_vm._m(0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchName),expression:\"searchName\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"名字\"},domProps:{\"value\":(_vm.searchName)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.queryUpstreams($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.searchName=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.queryUpstreams}},[_c('i',{staticClass:\"fa fa-search-plus\"}),_vm._v(\" 搜索\\n                    \")])])])]),_c('table',{staticClass:\"table table-bordered table-hover\"},[_vm._m(1),_c('tbody',[_vm._l((_vm.upstreams),function(up,idx){return [(_vm.showPage(idx))?_c('tr',[_c('td',[_vm._v(\"\\n                        \"+_vm._s(up.name)+\"\\n                        \"),(up.commit !== '')?_c('span',{staticClass:\"text-black-50\"},[_c('br'),_vm._v(_vm._s(up.commit))]):_vm._e()]),_c('td',[_c('span',{staticClass:\"badge badge-success\"},[_vm._v(_vm._s(up.protocol))])]),_c('td',[_vm._v(\"\\n                        \"+_vm._s(up.loadStrategy === '' ? '默认' : up.loadStrategy)+\"\\n                    \")]),_c('td',_vm._l((up.servers),function(s,idx){return _c('span',{staticClass:\"font-weight-bold\"},[(idx !== 0)?_c('span',[_vm._v(\",  \")]):_vm._e(),_vm._v(\" \"+_vm._s(s.host)+\":\"+_vm._s(s.port)+\"\\n                        \")])}),0),_c('td',[_c('button',{staticClass:\"btn btn-sm btn-primary\",on:{\"click\":function($event){return _vm.editUpstream(up)}}},[_vm._v(\"\\n                            编辑\\n                        \")]),_c('Delete',{on:{\"ok\":function($event){return _vm.deleteUpstream(up)}}},[_c('button',{staticClass:\"btn btn-sm btn-danger ml-2\"},[_vm._v(\"\\n                                删除\\n                            \")])])],1)]):_vm._e()]})],2),_c('tfoot',[_c('tr',[_c('td',{attrs:{\"colspan\":\"5\"}},[_c('XPage',{attrs:{\"items\":_vm.page},on:{\"change\":function($event){_vm.page.page = $event}}})],1)])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-prepend\"},[_c('span',{staticClass:\"input-group-text\"},[_vm._v(\"名字：\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticStyle:{\"width\":\"200px\"}},[_vm._v(\"名称/备注\")]),_c('th',{staticStyle:{\"width\":\"120px\"}},[_vm._v(\"转发类型\")]),_c('th',{staticStyle:{\"width\":\"120px\"}},[_vm._v(\"策略\")]),_c('th',[_vm._v(\"负载\")]),_c('th',{staticStyle:{\"width\":\"120px\"}},[_vm._v(\"操作\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <v-title title=\"负载均衡管理\" title-class=\"icons cui-puzzle\">\n            <router-link to=\"/admin/upstream/edit\" class=\"btn btn-sm btn-primary\">\n                添加负载\n            </router-link>\n        </v-title>\n        <div class=\"p-3\">\n            <div class=\"form-group form-inline\">\n                <div class=\"input-group\">\n                    <div class=\"input-group-prepend\">\n                        <span class=\"input-group-text\">名字：</span>\n                    </div>\n                    <input class=\"form-control\" v-model=\"searchName\" type=\"text\" placeholder=\"名字\"\n                           @keyup.enter=\"queryUpstreams\">\n                    <div class=\"input-group-append\">\n                        <button class=\"btn btn-primary\" @click=\"queryUpstreams\">\n                            <i class=\"fa fa-search-plus\"></i> 搜索\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            <table class=\"table table-bordered table-hover\">\n                <thead>\n                <tr>\n                    <th style=\"width: 200px\">名称/备注</th>\n                    <th style=\"width: 120px\">转发类型</th>\n                    <th style=\"width: 120px\">策略</th>\n                    <th>负载</th>\n                    <th style=\"width: 120px\">操作</th>\n                </tr>\n                </thead>\n                <tbody>\n                <template v-for=\"(up,idx) in upstreams\">\n                    <tr v-if=\"showPage(idx)\">\n                        <td>\n                            {{ up.name }}\n                            <span v-if=\"up.commit !== ''\" class=\"text-black-50\"><br/>{{ up.commit }}</span>\n                        </td>\n                        <td>\n                            <span class=\"badge badge-success\">{{ up.protocol }}</span>\n                        </td>\n                        <td>\n                            {{ up.loadStrategy === '' ? '默认' : up.loadStrategy }}\n                        </td>\n                        <td>\n                            <span v-for=\"(s,idx) in up.servers\" class=\"font-weight-bold\">\n                                <span v-if=\"idx !== 0\">,&nbsp;&nbsp;</span> {{ s.host }}:{{ s.port }}\n                            </span>\n                        </td>\n                        <td>\n                            <button class=\"btn btn-sm btn-primary\" @click=\"editUpstream(up)\">\n                                编辑\n                            </button>\n                            <Delete @ok=\"deleteUpstream(up)\">\n                                <button class=\"btn btn-sm btn-danger ml-2\">\n                                    删除\n                                </button>\n                            </Delete>\n                        </td>\n                    </tr>\n                </template>\n                </tbody>\n                <tfoot>\n                <tr>\n                    <td colspan=\"5\">\n                        <XPage :items=\"page\" @change=\"page.page = $event\"/>\n                    </td>\n                </tr>\n                </tfoot>\n            </table>\n        </div>\n    </div>\n</template>\n\n<script>\nimport VTitle from \"@/plugins/vTitle\";\nimport Delete from \"@/plugins/delete\";\nimport XPage from \"@/plugins/XPage\";\n\nexport default {\n    name: \"Upstreams\",\n    components: {XPage, Delete, VTitle},\n    data: () => ({\n        upstreams: [], searchName: \"\",\n        page: {\n            page: 1, total: 0, limit: 12,\n        }\n    }),\n    mounted() {\n        this.queryUpstreams();\n    },\n    methods: {\n        refresh() {\n            this.queryUpstreams();\n        },\n        showPage(idx) {\n            return idx >= (this.page.page - 1) * this.page.limit\n                && idx < (this.page.page * this.page.limit)\n        },\n        queryUpstreams() {\n            this.startLoading();\n            let self = this;\n            let url = \"/admin/api/upstream\";\n            if (this.searchName !== \"\") {\n                url += \"?name=\" + encodeURI(this.searchName);\n            }\n            self.$axios.get(url).then(res => {\n                self.upstreams = res;\n                self.page.total = self.upstreams.length;\n            }).catch(e => {\n                self.$alert(\"错误\" + e.message);\n            }).finally(() => {\n                self.finishLoading()\n            })\n        },\n        editUpstream(upstream) {\n            this.$router.push({\n                path: '/admin/upstream/edit',\n                query: {name: upstream.name}\n            })\n        },\n        deleteUpstream(upstream) {\n            let self = this;\n            let url = \"/admin/api/directive\";\n            for (let i = 0; i < upstream.queries.length; i++) {\n                if (i === 0) {\n                    url += \"?q=\" + encodeURI(upstream.queries[i]);\n                } else {\n                    url += \"&q=\" + encodeURI(upstream.queries[i]);\n                }\n            }\n            this.$axios.delete(url).then(res => {\n                self.$toast.success(\"删除成功！\")\n                self.queryUpstreams()\n            }).catch(e => {\n                self.$toast.error(e.message);\n            })\n        }\n    },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upstreams.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upstreams.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Upstreams.vue?vue&type=template&id=2ddc8c10&\"\nimport script from \"./Upstreams.vue?vue&type=script&lang=js&\"\nexport * from \"./Upstreams.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',{staticClass:\"breadcrumb breadcrumb-fixed\"},[_c('li',{staticClass:\"breadcrumb-item\"},[_c('i',{staticClass:\"fa\",class:_vm.titleClass}),_vm._v(\" \"+_vm._s(_vm.title)+\"\\n    \")]),_c('li',{staticClass:\"ml-auto\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <ol class=\"breadcrumb breadcrumb-fixed\">\n        <li class=\"breadcrumb-item\">\n            <i class=\"fa\" :class=\"titleClass\"/>&nbsp;{{title}}\n        </li>\n        <li class=\"ml-auto\">\n            <slot/>\n        </li>\n    </ol>\n</template>\n\n<script>\n    export default {\n        name: \"vTitle\",\n        props: {\n            title: String,\n            titleClass: {\n                type: String,\n                default: \"\"\n            },\n        }\n    }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vTitle.vue?vue&type=template&id=02a1053a&\"\nimport script from \"./vTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./vTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{on:{\"click\":_vm.confirm}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <span @click=\"confirm\">\n        <slot></slot>\n    </span>\n</template>\n<script>\n    export default {\n        name: \"delete\",\n        props: {\n            title: {\n                type: String,\n                default: \"确定？\"\n            },\n            message: {\n                type: String,\n                default: \"确定删除\"\n            }\n        },\n        methods: {\n            confirm() {\n                let self = this;\n                this.$confirm(self.message, {\"title\": self.title}).then(ok => {\n                    self.$emit(\"ok\")\n                }).catch(cancel => {\n                });\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./delete.vue?vue&type=template&id=2ce8dd3a&\"\nimport script from \"./delete.vue?vue&type=script&lang=js&\"\nexport * from \"./delete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}